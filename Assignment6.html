<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Employee Management System - Java JDBC</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: Arial, sans-serif;
      padding: 2rem;
      background-color: #f4f6f9;
      color: #333;
      line-height: 1.6;
    }
    h1 {
      color: #2e6da4;
      font-size: 2rem;
    }
    h2 {
      color: #0056b3;
      font-size: 1.5rem;
    }
    pre {
      background: #f0f0f0;
      padding: 1rem;
      border-left: 4px solid #007acc;
      overflow-x: auto;
      border-radius: 5px;
      font-size: 0.95rem;
    }
    .question {
      background: #e3f2fd;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.05);
    }
    strong {
      display: block;
      margin: 0.5rem 0;
      color: #2a2a2a;
      font-weight: bold;
    }
    .navbar {
      background-color: #e8eaed;
      padding: 1rem 1.5rem;
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }
    .back-link {
      text-decoration: none;
      color: white;
      background-color: #555;
      padding: 0.6rem 1rem;
      border-radius: 4px;
      transition: background-color 0.3s;
      font-size: 1rem;
    }
    .back-link:hover {
      background-color: #777;
    }
    /* Mobile responsiveness */
    @media (max-width: 600px) {
      body {
        padding: 1rem;
      }
      .navbar {
        flex-direction: column;
        align-items: flex-start;
      }
      h1 {
        font-size: 1.5rem;
      }
      h2 {
        font-size: 1.25rem;
      }
      pre {
        font-size: 0.9rem;
      }
      .back-link {
        font-size: 0.95rem;
      }
    }
  </style>
</head>
<body>

  <div class="navbar">
    <a href="index.html" class="back-link">← Back</a>
  </div>

  <h1>Assignment 6: Java Programs with Questions, Code & Output</h1>

  <div class="question">
    <h2>1. EMS - Java JDBC Program</h2>
    <strong>Question:</strong>
    <p>Design a Java JDBC program for an Employee Management System (EMS) that enables adding new employees, updating existing employee details, and generating employee reports. Consider the following methods:</p>
    <ul>
      <li><strong>addEmployee(String name, String designation, double salary):</strong> Method to add a new employee to the database, accepting parameters for employee name, designation, and salary.</li>
      <li><strong>updateEmployee(int id, String name, String designation, double salary):</strong> Method to update an existing employee's details in the database, specifying the employee ID along with the updated name, designation, and salary.</li>
      <li><strong>generateEmployeeReport():</strong> Method to generate a report of all employees currently stored in the database, displaying their ID, name, designation, and salary.</li>
    </ul>
    <p>Calculate DA, HRA, and net salary and add the record into the database while the answer is 'yes'. Finally, display all the records. Accept an employee number and display his/her record. Ask for confirmation to delete the record. If yes, delete the record.</p>


    <strong>Database Schema (MySQL Example):</strong>
  <pre><code>CREATE DATABASE IF NOT EXISTS EMS;
    USE EMS;
    
    CREATE TABLE IF NOT EXISTS employees (
        id INT AUTO_INCREMENT PRIMARY KEY,
        name VARCHAR(100),
        designation VARCHAR(100),
        salary DOUBLE,
        da DOUBLE,
        hra DOUBLE,
        net_salary DOUBLE
    );
    </code></pre>



    <strong>Java Code:</strong>
    <pre><code>
CREATE TABLE employees (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    designation VARCHAR(100) NOT NULL,
    salary DOUBLE NOT NULL,
    da DOUBLE NOT NULL,
    hra DOUBLE NOT NULL,
    net_salary DOUBLE NOT NULL
);



import java.sql.*;
import java.util.Scanner;

public class EmployeeManagementSystem {

    Connection conn;
    Scanner sc = new Scanner(System.in);

    public EmployeeManagementSystem() {
        try {
            Class.forName("com.mysql.cj.jdbc.Driver");
            conn = DriverManager.getConnection(
                "jdbc:mysql://localhost:3306/emsdb", "root", "yourpassword"
            );
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    // Method to add employee
    public void addEmployee(String name, String designation, double salary) {
        try {
            double da = 0.1 * salary; // 10% DA
            double hra = 0.15 * salary; // 15% HRA
            double netSalary = salary + da + hra;
            
            String sql = "INSERT INTO employees (name, designation, salary, da, hra, net_salary) VALUES (?, ?, ?, ?, ?, ?)";
            PreparedStatement pstmt = conn.prepareStatement(sql);
            pstmt.setString(1, name);
            pstmt.setString(2, designation);
            pstmt.setDouble(3, salary);
            pstmt.setDouble(4, da);
            pstmt.setDouble(5, hra);
            pstmt.setDouble(6, netSalary);

            int rows = pstmt.executeUpdate();
            if (rows > 0) {
                System.out.println("Employee added successfully.");
            } else {
                System.out.println("Failed to add employee.");
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }

    // Method to update employee
    public void updateEmployee(int id, String name, String designation, double salary) {
        try {
            double da = 0.1 * salary;
            double hra = 0.15 * salary;
            double netSalary = salary + da + hra;

            String sql = "UPDATE employees SET name=?, designation=?, salary=?, da=?, hra=?, net_salary=? WHERE id=?";
            PreparedStatement pstmt = conn.prepareStatement(sql);
            pstmt.setString(1, name);
            pstmt.setString(2, designation);
            pstmt.setDouble(3, salary);
            pstmt.setDouble(4, da);
            pstmt.setDouble(5, hra);
            pstmt.setDouble(6, netSalary);
            pstmt.setInt(7, id);

            int rows = pstmt.executeUpdate();
            if (rows > 0) {
                System.out.println("Employee updated successfully.");
            } else {
                System.out.println("Employee not found.");
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }

    // Method to generate report
    public void generateEmployeeReport() {
        try {
            String sql = "SELECT * FROM employees";
            Statement stmt = conn.createStatement();
            ResultSet rs = stmt.executeQuery(sql);

            System.out.println("\nEmployee Report:");
            System.out.printf("%-5s %-20s %-20s %-10s %-10s %-10s %-10s%n",
                              "ID", "Name", "Designation", "Salary", "DA", "HRA", "Net Salary");

            while (rs.next()) {
                System.out.printf("%-5d %-20s %-20s %-10.2f %-10.2f %-10.2f %-10.2f%n",
                                  rs.getInt("id"),
                                  rs.getString("name"),
                                  rs.getString("designation"),
                                  rs.getDouble("salary"),
                                  rs.getDouble("da"),
                                  rs.getDouble("hra"),
                                  rs.getDouble("net_salary"));
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }

    // Method to find and display a specific employee
    public void findEmployeeById(int id) {
        try {
            String sql = "SELECT * FROM employees WHERE id=?";
            PreparedStatement pstmt = conn.prepareStatement(sql);
            pstmt.setInt(1, id);
            ResultSet rs = pstmt.executeQuery();

            if (rs.next()) {
                System.out.println("\nEmployee Found:");
                System.out.println("ID: " + rs.getInt("id"));
                System.out.println("Name: " + rs.getString("name"));
                System.out.println("Designation: " + rs.getString("designation"));
                System.out.println("Salary: " + rs.getDouble("salary"));
                System.out.println("DA: " + rs.getDouble("da"));
                System.out.println("HRA: " + rs.getDouble("hra"));
                System.out.println("Net Salary: " + rs.getDouble("net_salary"));

                System.out.print("\nDo you want to delete this employee? (yes/no): ");
                String choice = sc.next();

                if (choice.equalsIgnoreCase("yes")) {
                    deleteEmployee(id);
                }
            } else {
                System.out.println("Employee not found.");
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }

    // Method to delete an employee
    public void deleteEmployee(int id) {
        try {
            String sql = "DELETE FROM employees WHERE id=?";
            PreparedStatement pstmt = conn.prepareStatement(sql);
            pstmt.setInt(1, id);
            int rows = pstmt.executeUpdate();

            if (rows > 0) {
                System.out.println("Employee deleted successfully.");
            } else {
                System.out.println("Failed to delete employee.");
            }
        } catch (SQLException e) {
            e.printStackTrace();
        }
    }

    // Main method
    public static void main(String[] args) {
        EmployeeManagementSystem ems = new EmployeeManagementSystem();
        Scanner sc = new Scanner(System.in);

        String ans;
        do {
            System.out.print("\nEnter Employee Name: ");
            String name = sc.nextLine();
            System.out.print("Enter Designation: ");
            String designation = sc.nextLine();
            System.out.print("Enter Salary: ");
            double salary = sc.nextDouble();
            sc.nextLine(); // consume leftover newline

            ems.addEmployee(name, designation, salary);

            System.out.print("\nDo you want to add another employee? (yes/no): ");
            ans = sc.nextLine();
        } while (ans.equalsIgnoreCase("yes"));

        ems.generateEmployeeReport();

        System.out.print("\nEnter Employee ID to view details: ");
        int id = sc.nextInt();
        ems.findEmployeeById(id);

        sc.close();
    }
}   </code></pre>
  </div>

  <h2>Sample Output</h2>
  <div class="output">
    <strong>Example Output:</strong>
    <pre><code>
===== Employee Management System =====
1. Add Employee
2. Update Employee
3. Generate Employee Report
4. Search Employee by ID
5. Exit
Enter your choice: 1
Enter Name: John Doe
Enter Designation: Software Engineer
Enter Salary: 50000
Employee added successfully.
Add another employee? (yes/no): yes
Enter Name: Jane Smith
Enter Designation: HR Manager
Enter Salary: 55000
Employee added successfully.
Add another employee? (yes/no): no

===== Employee Management System =====
1. Add Employee
2. Update Employee
3. Generate Employee Report
4. Search Employee by ID
5. Exit
Enter your choice: 3
ID   Name                 Designation         Salary    DA        HRA       Net
1    John Doe             Software Engineer  50000.00  5000.00   10000.00  65000.00
2    Jane Smith           HR Manager         55000.00  5500.00   11000.00  71500.00
    </code></pre>
  </div>


  <div class="question">
    <h2>2. Student Management System (JDBC)</h2>
    <strong>Question:</strong>
    <p>Build a JDBC program to deal with a Student database. Utilize <b>insert</b>, <b>update</b>, and <b>delete</b> operations on student records.</p>
  

    <strong>MySQL :</strong>
  <pre><code>CREATE DATABASE school;

    USE school;
    
    CREATE TABLE students (
      id INT PRIMARY KEY AUTO_INCREMENT,
      name VARCHAR(100),
      course VARCHAR(50),
      marks INT
    );
    
    </code></pre>


    <strong>Java Code:</strong>
    <pre>
        import java.sql.*;
        import java.util.Scanner;
        
        public class StudentManagement {
            static final String DB_URL = "jdbc:mysql://localhost:3306/school";
            static final String USER = "root"; // your MySQL username
            static final String PASS = "password"; // your MySQL password
        
            public static void main(String[] args) {
                Scanner sc = new Scanner(System.in);
        
                try (Connection conn = DriverManager.getConnection(DB_URL, USER, PASS)) {
                    while (true) {
                        System.out.println("\n=== Student Database Menu ===");
                        System.out.println("1. Insert Student");
                        System.out.println("2. Update Student");
                        System.out.println("3. Delete Student");
                        System.out.println("4. View All Students");
                        System.out.println("5. Exit");
                        System.out.print("Enter your choice: ");
                        int choice = sc.nextInt();
                        sc.nextLine(); // consume newline
        
                        switch (choice) {
                            case 1:
                                System.out.print("Enter student name: ");
                                String name = sc.nextLine();
                                System.out.print("Enter course: ");
                                String course = sc.nextLine();
                                System.out.print("Enter marks: ");
                                int marks = sc.nextInt();
                                sc.nextLine();
        
                                insertStudent(conn, name, course, marks);
                                break;
        
                            case 2:
                                System.out.print("Enter student ID to update: ");
                                int idToUpdate = sc.nextInt();
                                sc.nextLine();
                                System.out.print("Enter new name: ");
                                String newName = sc.nextLine();
                                System.out.print("Enter new course: ");
                                String newCourse = sc.nextLine();
                                System.out.print("Enter new marks: ");
                                int newMarks = sc.nextInt();
                                sc.nextLine();
                                updateStudent(conn, idToUpdate, newName, newCourse, newMarks);
                                break;
        
                            case 3:
                                System.out.print("Enter student ID to delete: ");
                                int idToDelete = sc.nextInt();
                                sc.nextLine();
                                deleteStudent(conn, idToDelete);
                                break;
        
                            case 4:
                                viewAllStudents(conn);
                                break;
        
                            case 5:
                                System.out.println("Exiting program.");
                                return;
        
                            default:
                                System.out.println("Invalid choice.");
                        }
                    }
                } catch (SQLException e) {
                    e.printStackTrace();
                }
            }
        
            static void insertStudent(Connection conn, String name, String course, int marks) throws SQLException {
                String sql = "INSERT INTO students (name, course, marks) VALUES (?, ?, ?)";
                try (PreparedStatement pst = conn.prepareStatement(sql)) {
                    pst.setString(1, name);
                    pst.setString(2, course);
                    pst.setInt(3, marks);
                    pst.executeUpdate();
                    System.out.println("Student inserted successfully.");
                }
            }
        
            static void updateStudent(Connection conn, int id, String name, String course, int marks) throws SQLException {
                String sql = "UPDATE students SET name = ?, course = ?, marks = ? WHERE id = ?";
                try (PreparedStatement pst = conn.prepareStatement(sql)) {
                    pst.setString(1, name);
                    pst.setString(2, course);
                    pst.setInt(3, marks);
                    pst.setInt(4, id);
                    int rows = pst.executeUpdate();
                    System.out.println(rows > 0 ? "Student updated successfully." : "Student not found.");
                }
            }
        
            static void deleteStudent(Connection conn, int id) throws SQLException {
                String sql = "DELETE FROM students WHERE id = ?";
                try (PreparedStatement pst = conn.prepareStatement(sql)) {
                    pst.setInt(1, id);
                    int rows = pst.executeUpdate();
                    System.out.println(rows > 0 ? "Student deleted successfully." : "Student not found.");
                }
            }
        
            static void viewAllStudents(Connection conn) throws SQLException {
                String sql = "SELECT * FROM students";
                try (Statement st = conn.createStatement();
                     ResultSet rs = st.executeQuery(sql)) {
                    System.out.printf("%-5s %-20s %-15s %-5s\n", "ID", "Name", "Course", "Marks");
                    while (rs.next()) {
                        System.out.printf("%-5d %-20s %-15s %-5d\n",
                                rs.getInt("id"),
                                rs.getString("name"),
                                rs.getString("course"),
                                rs.getInt("marks"));
                    }
                }
            }
        }
        
    </pre>
  
    <strong>Sample Output:</strong>
    <pre>
  === Student Database Menu ===
  1. Insert Student
  2. Update Student
  3. Delete Student
  4. View All Students
  5. Exit
  Enter your choice: 1
  Enter student name: Alice
  Enter course: Computer Science
  Enter marks: 85
  Student inserted successfully.
  
  Enter your choice: 4
  ID    Name                 Course          Marks
  1     Alice                Computer Science 85
  
  Enter your choice: 2
  Enter student ID to update: 1
  Enter new name: Alice Johnson
  Enter new course: IT
  Enter new marks: 90
  Student updated successfully.
  
  Enter your choice: 3
  Enter student ID to delete: 1
  Student deleted successfully.
    </pre>
  </div>
  

  <div class="question">
    <h2>3. CallableStatement with Stored Procedure (JDBC)</h2>
    <strong>Question:</strong>
    <p>Design a Java JDBC program that utilizes a <code>CallableStatement</code> to call a stored procedure in a MySQL database. The stored procedure, named <b>calculate_total_salary</b>, takes an employee ID as input and returns the total salary for that employee as output.</p>
  
    <strong>Stored Procedure (MySQL):</strong>
    <pre><code>DELIMITER //
  
  CREATE PROCEDURE calculate_total_salary (
    IN emp_id INT,
    OUT total DOUBLE
  )
  BEGIN
    SELECT base_salary + bonus INTO total
    FROM employees
    WHERE id = emp_id;
  END //
  
  DELIMITER ;</code></pre>
  
    <strong>Java Code:</strong>
    <pre><code>
  import java.sql.*;
  import java.util.Scanner;
  
  public class CallableStatementExample {
      static final String DB_URL = "jdbc:mysql://localhost:3306/company";
      static final String USER = "root"; // change to your MySQL username
      static final String PASS = "password"; // change to your MySQL password
  
      public static void main(String[] args) {
          Scanner scanner = new Scanner(System.in);
  
          try (Connection conn = DriverManager.getConnection(DB_URL, USER, PASS)) {
              System.out.print("Enter Employee ID: ");
              int empId = scanner.nextInt();
  
              String call = "{call calculate_total_salary(?, ?)}";
              try (CallableStatement cstmt = conn.prepareCall(call)) {
                  cstmt.setInt(1, empId); // IN parameter
                  cstmt.registerOutParameter(2, Types.DOUBLE); // OUT parameter
  
                  cstmt.execute();
  
                  double totalSalary = cstmt.getDouble(2);
                  System.out.println("Total Salary for Employee ID " + empId + " is: ₹" + totalSalary);
              }
  
          } catch (SQLException e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>Sample Output:</strong>
    <pre><code>
  Enter Employee ID: 2
  Total Salary for Employee ID 2 is: ₹67500.0
    </code></pre>
  </div>
  


  <div class="question">
    <h2>4. Client-Server File Transfer using TCP/IP</h2>
    <strong>Question:</strong>
    <p>Create a client program that will send a file to the server, which will receive the file and save it. Use TCP/IP sockets.</p>
  
    <strong>Server Code (Java):</strong>
    <pre><code>
  import java.io.*;
  import java.net.*;
  
  public class FileReceiverServer {
      public static void main(String[] args) {
          int port = 5000;
          try (ServerSocket serverSocket = new ServerSocket(port)) {
              System.out.println("Server is listening...");
              Socket socket = serverSocket.accept();
              System.out.println("Client connected.");
  
              DataInputStream dis = new DataInputStream(socket.getInputStream());
              String fileName = dis.readUTF();
              long fileSize = dis.readLong();
  
              FileOutputStream fos = new FileOutputStream("received_" + fileName);
              byte[] buffer = new byte[4096];
              int read;
              long totalRead = 0;
  
              while ((read = dis.read(buffer, 0, Math.min(buffer.length, (int)(fileSize - totalRead)))) > 0) {
                  totalRead += read;
                  fos.write(buffer, 0, read);
                  if (totalRead >= fileSize) break;
              }
  
              System.out.println("File saved as: received_" + fileName);
              fos.close();
              dis.close();
              socket.close();
          } catch (IOException e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>Client Code (Java):</strong>
    <pre><code>
  import java.io.*;
  import java.net.*;
  
  public class FileSenderClient {
      public static void main(String[] args) {
          String serverAddress = "localhost";
          int port = 5000;
          String filePath = "test.txt";
  
          try (Socket socket = new Socket(serverAddress, port)) {
              File file = new File(filePath);
              FileInputStream fis = new FileInputStream(file);
              DataOutputStream dos = new DataOutputStream(socket.getOutputStream());
  
              dos.writeUTF(file.getName());
              dos.writeLong(file.length());
  
              byte[] buffer = new byte[4096];
              int read;
              while ((read = fis.read(buffer)) > 0) {
                  dos.write(buffer, 0, read);
              }
  
              System.out.println("File sent successfully.");
              fis.close();
              dos.close();
          } catch (IOException e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>Sample Output:</strong>
    <pre>
  Server Output:
  Server is listening...
  Client connected.
  File received and saved as: received_test.txt
  
  Client Output:
  File sent successfully.
    </pre>
  </div>
  

  <div class="question">
    <h2>5. Student Class with Total and Percentage Calculation</h2>
    <strong>Question:</strong>
    <p>
      Create class <code>Student</code> with data elements <code>studno</code>, <code>sname</code>, <code>marks1</code>, <code>marks2</code>, <code>marks3</code>, <code>total</code>, and <code>percentage</code>.
      Create method <code>getStudent()</code> to accept student number, name, and marks.
      Add method <code>calculate()</code> to compute total and percentage.
      Finally, use <code>dispStudent()</code> to display the student details.
    </p>
  
    <strong>Java Code:</strong>
    <pre><code>
  import java.util.Scanner;
  
  public class Student {
      int studno;
      String sname;
      int marks1, marks2, marks3;
      int total;
      float percentage;
  
      void getStudent() {
          Scanner sc = new Scanner(System.in);
          System.out.print("Enter Student Number: ");
          studno = sc.nextInt();
          sc.nextLine();
          System.out.print("Enter Student Name: ");
          sname = sc.nextLine();
          System.out.print("Enter Marks 1: ");
          marks1 = sc.nextInt();
          System.out.print("Enter Marks 2: ");
          marks2 = sc.nextInt();
          System.out.print("Enter Marks 3: ");
          marks3 = sc.nextInt();
      }
  
      void calculate() {
          total = marks1 + marks2 + marks3;
          percentage = total / 3.0f;
      }
  
      void dispStudent() {
          System.out.println("\n--- Student Details ---");
          System.out.println("Student Number: " + studno);
          System.out.println("Name: " + sname);
          System.out.println("Marks: " + marks1 + ", " + marks2 + ", " + marks3);
          System.out.println("Total: " + total);
          System.out.printf("Percentage: %.2f%%\n", percentage);
      }
  
      public static void main(String[] args) {
          Student st = new Student();
          st.getStudent();
          st.calculate();
          st.dispStudent();
      }
  }
    </code></pre>
  
    <strong>Sample Output:</strong>
    <pre>
  Enter Student Number: 101
  Enter Student Name: Alice
  Enter Marks 1: 85
  Enter Marks 2: 90
  Enter Marks 3: 88
  
  --- Student Details ---
  Student Number: 101
  Name: Alice
  Marks: 85, 90, 88
  Total: 263
  Percentage: 87.67%
    </pre>
  </div>
  
  <div class="question">
    <h2>6. Student Object Transfer using TCP/IP</h2>
    <strong>Question:</strong>
    <p>
      In the client program, create an object of class <code>Student</code> and accept details for it.
      Send it to a server program where you calculate the total and percentage.
      Display the student details in the client program. Use TCP/IP.
    </p>
  
    <strong>1. Student Class (Serializable):</strong>
    <pre><code>
  import java.io.Serializable;
  
  public class Student implements Serializable {
      private int studno;
      private String sname;
      private int marks1, marks2, marks3;
      private int total;
      private float percentage;
  
      public Student(int studno, String sname, int marks1, int marks2, int marks3) {
          this.studno = studno;
          this.sname = sname;
          this.marks1 = marks1;
          this.marks2 = marks2;
          this.marks3 = marks3;
      }
  
      public void calculate() {
          total = marks1 + marks2 + marks3;
          percentage = total / 3.0f;
      }
  
      public String toString() {
          return "\n--- Student Details ---" +
                 "\nStudent Number: " + studno +
                 "\nName: " + sname +
                 "\nMarks: " + marks1 + ", " + marks2 + ", " + marks3 +
                 "\nTotal: " + total +
                 String.format("\nPercentage: %.2f%%", percentage);
      }
  }
    </code></pre>
  
    <strong>2. Server Program (StudentServer.java):</strong>
    <pre><code>
  import java.io.*;
  import java.net.*;
  
  public class StudentServer {
      public static void main(String[] args) {
          int port = 6000;
          try (ServerSocket serverSocket = new ServerSocket(port)) {
              System.out.println("Server is running and waiting for client...");
  
              Socket socket = serverSocket.accept();
              System.out.println("Client connected.");
  
              ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());
              Student student = (Student) ois.readObject();
  
              student.calculate();
  
              ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());
              oos.writeObject(student);
  
              ois.close();
              oos.close();
              socket.close();
              System.out.println("Processed and sent back the student object.");
          } catch (Exception e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>3. Client Program (StudentClient.java):</strong>
    <pre><code>
  import java.io.*;
  import java.net.*;
  import java.util.Scanner;
  
  public class StudentClient {
      public static void main(String[] args) {
          String server = "localhost";
          int port = 6000;
  
          try (Socket socket = new Socket(server, port)) {
              Scanner sc = new Scanner(System.in);
              System.out.print("Enter Student Number: ");
              int studno = sc.nextInt();
              sc.nextLine();
              System.out.print("Enter Student Name: ");
              String name = sc.nextLine();
              System.out.print("Enter Marks 1: ");
              int m1 = sc.nextInt();
              System.out.print("Enter Marks 2: ");
              int m2 = sc.nextInt();
              System.out.print("Enter Marks 3: ");
              int m3 = sc.nextInt();
  
              Student student = new Student(studno, name, m1, m2, m3);
  
              ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());
              oos.writeObject(student);
  
              ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());
              Student updatedStudent = (Student) ois.readObject();
  
              System.out.println(updatedStudent);
  
              oos.close();
              ois.close();
          } catch (Exception e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>Sample Output:</strong>
    <pre>
  Client Output:
  Enter Student Number: 101
  Enter Student Name: Alice
  Enter Marks 1: 85
  Enter Marks 2: 90
  Enter Marks 3: 88
  
  --- Student Details ---
  Student Number: 101
  Name: Alice
  Marks: 85, 90, 88
  Total: 263
  Percentage: 87.67%
  
  Server Output:
  Server is running and waiting for client...
  Client connected.
  Processed and sent back the student object.
    </pre>
  </div>
  

  <div class="question">
    <h2>7. UDP Chat Application</h2>
    <strong>Question:</strong>
    <p>
      Create a simple chat application using the UDP protocol. One program should send messages and the other should receive messages using <code>DatagramSocket</code> and <code>DatagramPacket</code>.
    </p>
  
    <strong>Sender Code (UDPChatSender.java):</strong>
    <pre><code>
  import java.net.*;
  import java.util.Scanner;
  
  public class UDPChatSender {
      public static void main(String[] args) {
          Scanner sc = new Scanner(System.in);
          try {
              DatagramSocket socket = new DatagramSocket();
              InetAddress receiverAddress = InetAddress.getByName("localhost");
              int port = 9876;
  
              System.out.println("Sender started. Type messages:");
  
              while (true) {
                  String message = sc.nextLine();
                  byte[] sendData = message.getBytes();
  
                  DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, receiverAddress, port);
                  socket.send(sendPacket);
  
                  if (message.equalsIgnoreCase("exit")) {
                      break;
                  }
              }
  
              socket.close();
          } catch (Exception e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>Receiver Code (UDPChatReceiver.java):</strong>
    <pre><code>
  import java.net.*;
  
  public class UDPChatReceiver {
      public static void main(String[] args) {
          try {
              DatagramSocket socket = new DatagramSocket(9876);
              byte[] receiveData = new byte[1024];
  
              System.out.println("Receiver started. Waiting for messages...");
  
              while (true) {
                  DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);
                  socket.receive(receivePacket);
  
                  String message = new String(receivePacket.getData(), 0, receivePacket.getLength());
                  System.out.println("Received: " + message);
  
                  if (message.equalsIgnoreCase("exit")) {
                      break;
                  }
              }
  
              socket.close();
          } catch (Exception e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>Sample Output:</strong>
    <pre>
  Sender Terminal:
  Hello
  How are you?
  exit
  
  Receiver Terminal:
  Received: Hello
  Received: How are you?
  Received: exit
    </pre>
  </div>
  

  <div class="question">
    <h2>8. Display URL Info and Page Content</h2>
    <strong>Question:</strong>
    <p>
      Display the contents of the URL <code>http://172.16.2.10/index.html</code>.
      Display the host name, port number, and protocol used.
    </p>
  
    <strong>Java Code:</strong>
    <pre><code>
  import java.io.BufferedReader;
  import java.io.InputStreamReader;
  import java.net.*;
  
  public class URLInfoViewer {
      public static void main(String[] args) {
          try {
              URL url = new URL("http://172.16.2.10/index.html");
  
              System.out.println("Protocol: " + url.getProtocol());
              System.out.println("Host: " + url.getHost());
              System.out.println("Port: " + (url.getPort() == -1 ? "Default (80)" : url.getPort()));
              System.out.println("\n--- Page Contents ---");
  
              BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));
              String inputLine;
              while ((inputLine = in.readLine()) != null) {
                  System.out.println(inputLine);
              }
              in.close();
          } catch (Exception e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>Sample Output:</strong>
    <pre>
  Protocol: http
  Host: 172.16.2.10
  Port: Default (80)
  
  --- Page Contents ---
  <html>
    <head><title>Sample Page</title></head>
    <body>
      <h1>Welcome to the local web server!</h1>
    </body>
  </html>
    </pre>
  </div>
  

  <div class="question">
    <h2>9. RMI-Based Employee Salary Calculation</h2>
    <strong>Question:</strong>
    <p>
      Accept <code>empno</code>, <code>ename</code>, and <code>basic</code> salary into local variables on the client side.
      Pass the basic salary to remote methods <code>da()</code>, <code>hra()</code>, and <code>net()</code>
      which calculate and return DA, HRA, and Net salary respectively. Display all details on the client.
    </p>
  
    <strong>1. SalaryInterface.java:</strong>
    <pre><code>
  import java.rmi.*;
  
  public interface SalaryInterface extends Remote {
      double da(double basic) throws RemoteException;
      double hra(double basic) throws RemoteException;
      double net(double basic) throws RemoteException;
  }
    </code></pre>
  
    <strong>2. SalaryImpl.java:</strong>
    <pre><code>
  import java.rmi.server.UnicastRemoteObject;
  import java.rmi.*;
  
  public class SalaryImpl extends UnicastRemoteObject implements SalaryInterface {
      public SalaryImpl() throws RemoteException {}
  
      public double da(double basic) { return basic * 0.10; }
      public double hra(double basic) { return basic * 0.12; }
      public double net(double basic) { return basic + da(basic) + hra(basic); }
  }
    </code></pre>
  
    <strong>3. SalaryServer.java:</strong>
    <pre><code>
  import java.rmi.*;
  import java.rmi.registry.*;
  
  public class SalaryServer {
      public static void main(String[] args) {
          try {
              SalaryImpl obj = new SalaryImpl();
              LocateRegistry.createRegistry(1099);
              Naming.rebind("SalaryService", obj);
              System.out.println("Salary RMI Server is running...");
          } catch (Exception e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>4. SalaryClient.java:</strong>
    <pre><code>
  import java.rmi.*;
  import java.util.Scanner;
  
  public class SalaryClient {
      public static void main(String[] args) {
          try {
              Scanner sc = new Scanner(System.in);
              System.out.print("Enter Emp No: ");
              int empno = sc.nextInt();
              sc.nextLine();
              System.out.print("Enter Name: ");
              String name = sc.nextLine();
              System.out.print("Enter Basic Salary: ");
              double basic = sc.nextDouble();
  
              SalaryInterface stub = (SalaryInterface) Naming.lookup("rmi://localhost/SalaryService");
  
              double da = stub.da(basic);
              double hra = stub.hra(basic);
              double net = stub.net(basic);
  
              System.out.println("\n--- Employee Salary Details ---");
              System.out.println("Emp No   : " + empno);
              System.out.println("Name     : " + name);
              System.out.println("Basic    : ₹" + basic);
              System.out.println("DA       : ₹" + da);
              System.out.println("HRA      : ₹" + hra);
              System.out.println("Net Pay  : ₹" + net);
          } catch (Exception e) {
              e.printStackTrace();
          }
      }
  }
    </code></pre>
  
    <strong>Sample Output:</strong>
    <pre>
  Enter Emp No: 101
  Enter Name: Rahul
  Enter Basic Salary: 50000
  
  --- Employee Salary Details ---
  Emp No   : 101
  Name     : Rahul
  Basic    : ₹50000.0
  DA       : ₹5000.0
  HRA      : ₹6000.0
  Net Pay  : ₹61000.0
    </pre>
  </div>
  

  <div class="question">
    <h2>10. Accept Student Details and Calculate Total & Percentage Using RMI</h2>
    <strong>Question:</strong>
    <p>
      Accept student number, name, marks1, marks2, and marks3 as input for a `Student` object on the client side. 
      Send the entire object to a remote method where the total and percentage for the student will be calculated. 
      The `Student` class should only contain `getStudent()` and `dispStudent()`. The calculation method should not be inside the `Student` class. 
      Display the resultant student object with total and percentage on the client side.
    </p>
    <strong>Client Code:</strong>
    <pre>
  import java.rmi.*;
  import java.rmi.registry.*;
  import java.util.Scanner;
  
  public class StudentClient {
    public static void main(String[] args) {
      try {
        Registry registry = LocateRegistry.getRegistry("localhost", 1099);
        StudentInterface studentObj = (StudentInterface) registry.lookup("StudentService");
  
        Scanner sc = new Scanner(System.in);
        Student student = new Student();
  
        System.out.print("Enter student number: ");
        student.setStudno(sc.nextInt());
        System.out.print("Enter student name: ");
        student.setSname(sc.next());
        System.out.print("Enter marks for subject 1: ");
        student.setMarks1(sc.nextInt());
        System.out.print("Enter marks for subject 2: ");
        student.setMarks2(sc.nextInt());
        System.out.print("Enter marks for subject 3: ");
        student.setMarks3(sc.nextInt());
  
        studentObj.calculateTotalAndPercentage(student);
  
        student.dispStudent();
      } catch (Exception e) {
        e.printStackTrace();
      }
    }
  }
    </pre>
  
    <strong>Server Code:</strong>
    <pre>
  import java.rmi.*;
  import java.rmi.server.*;
  
  public class StudentServer extends UnicastRemoteObject implements StudentInterface {
    public StudentServer() throws RemoteException {
      super();
    }
  
    public void calculateTotalAndPercentage(Student student) throws RemoteException {
      int total = student.getMarks1() + student.getMarks2() + student.getMarks3();
      double percentage = total / 3.0;
  
      student.setTotal(total);
      student.setPercentage(percentage);
    }
  
    public static void main(String[] args) {
      try {
        StudentServer server = new StudentServer();
        Naming.rebind("StudentService", server);
        System.out.println("Server is ready...");
      } catch (Exception e) {
        e.printStackTrace();
      }
    }
  }
    </pre>
  
    <strong>Student Class Code:</strong>
    <pre>
  import java.io.Serializable;
  
  public class Student implements Serializable {
    private int studno;
    private String sname;
    private int marks1, marks2, marks3;
    private int total;
    private double percentage;
  
    public void getStudent(int studno, String sname, int marks1, int marks2, int marks3) {
      this.studno = studno;
      this.sname = sname;
      this.marks1 = marks1;
      this.marks2 = marks2;
      this.marks3 = marks3;
    }
  
    public void dispStudent() {
      System.out.println("Student No: " + studno);
      System.out.println("Name: " + sname);
      System.out.println("Marks1: " + marks1);
      System.out.println("Marks2: " + marks2);
      System.out.println("Marks3: " + marks3);
      System.out.println("Total: " + total);
      System.out.println("Percentage: " + percentage + "%");
    }
  
    // Getters and setters for the fields
    public int getStudno() { return studno; }
    public void setStudno(int studno) { this.studno = studno; }
  
    public String getSname() { return sname; }
    public void setSname(String sname) { this.sname = sname; }
  
    public int getMarks1() { return marks1; }
    public void setMarks1(int marks1) { this.marks1 = marks1; }
  
    public int getMarks2() { return marks2; }
    public void setMarks2(int marks2) { this.marks2 = marks2; }
  
    public int getMarks3() { return marks3; }
    public void setMarks3(int marks3) { this.marks3 = marks3; }
  
    public int getTotal() { return total; }
    public void setTotal(int total) { this.total = total; }
  
    public double getPercentage() { return percentage; }
    public void setPercentage(double percentage) { this.percentage = percentage; }
  }
    </pre>
  
    <strong>Sample Output:</strong>
    <p>
      Enter student number: 1<br>
      Enter student name: John<br>
      Enter marks for subject 1: 85<br>
      Enter marks for subject 2: 78<br>
      Enter marks for subject 3: 92<br><br>
      Student No: 1<br>
      Name: John<br>
      Marks1: 85<br>
      Marks2: 78<br>
      Marks3: 92<br>
      Total: 255<br>
      Percentage: 85.0%
    </p>
  </div>
  

  <div class="question">
    <h2>11. Client-Server Program Using TCP/IP Protocol</h2>
    <p>Write a client-server program to demonstrate the use of TCP/IP protocol in Java. The server should listen on a specific port and the client should connect to it and send a message. The server should then respond to the client with a message back. Below is the code for both the server and client program.</p>
  
  
  <div class="code">
    <h3>Server Code (TCPServer.java):</h3>
    <pre>
      import java.io.*;
      import java.net.*;
  
      public class TCPServer {
          public static void main(String[] args) {
              try {
                  // Create a server socket listening on port 5000
                  ServerSocket serverSocket = new ServerSocket(5000);
                  System.out.println("Server is waiting for client connection...");
                  
                  // Accept client connections
                  Socket clientSocket = serverSocket.accept();
                  System.out.println("Client connected: " + clientSocket.getInetAddress());
  
                  // Set up input and output streams for communication
                  DataInputStream inputStream = new DataInputStream(clientSocket.getInputStream());
                  DataOutputStream outputStream = new DataOutputStream(clientSocket.getOutputStream());
  
                  // Read the message sent by the client
                  String clientMessage = inputStream.readUTF();
                  System.out.println("Received from client: " + clientMessage);
  
                  // Send a response back to the client
                  String serverMessage = "Hello from Server!";
                  outputStream.writeUTF(serverMessage);
  
                  // Close the streams and socket
                  inputStream.close();
                  outputStream.close();
                  clientSocket.close();
                  serverSocket.close();
                  System.out.println("Server closed.");
              } catch (IOException e) {
                  e.printStackTrace();
              }
          }
      }
    </pre>
  </div>
  
  <div class="code">
    <h3>Client Code (TCPClient.java):</h3>
    <pre>
      import java.io.*;
      import java.net.*;
  
      public class TCPClient {
          public static void main(String[] args) {
              try {
                  // Create a client socket connecting to the server on localhost, port 5000
                  Socket socket = new Socket("localhost", 5000);
                  System.out.println("Connected to the server...");
  
                  // Set up input and output streams for communication
                  DataInputStream inputStream = new DataInputStream(socket.getInputStream());
                  DataOutputStream outputStream = new DataOutputStream(socket.getOutputStream());
  
                  // Send a message to the server
                  String clientMessage = "Hello from Client!";
                  outputStream.writeUTF(clientMessage);
                  System.out.println("Sent to server: " + clientMessage);
  
                  // Read the response from the server
                  String serverMessage = inputStream.readUTF();
                  System.out.println("Received from server: " + serverMessage);
  
                  // Close the streams and socket
                  inputStream.close();
                  outputStream.close();
                  socket.close();
                  System.out.println("Client closed.");
              } catch (IOException e) {
                  e.printStackTrace();
              }
          }
      }
    </pre>
  </div>
  
  <div class="output">
    <h3>Server Output:</h3>
    <pre>
      Server is waiting for client connection...
      Client connected: /127.0.0.1
      Received from client: Hello from Client!
      Server closed.
    </pre>
  </div>
  
  <div class="output">
    <h3>Client Output:</h3>
    <pre>
      Connected to the server...
      Sent to server: Hello from Client!
      Received from server: Hello from Server!
      Client closed.
    </pre>
  </div>
</div>

<div class="question">
    <h2>12. RMI Program to Sort an Array</h2>
    <strong>Question:</strong>
    Write an RMI program where the client sends an integer array to the server, the server sorts the array, and the client receives and displays the sorted array.
    
    <h3>Code:</h3>
    <pre>
    // SortArrayInterface.java
    import java.rmi.Remote;
    import java.rmi.RemoteException;
  
    public interface SortArrayInterface extends Remote {
        public int[] sortArray(int[] arr) throws RemoteException;
    }
    </pre>
  
    <pre>
    // SortArrayServer.java
    import java.rmi.server.UnicastRemoteObject;
    import java.rmi.RemoteException;
    import java.rmi.registry.LocateRegistry;
    import java.rmi.registry.Registry;
  
    public class SortArrayServer extends UnicastRemoteObject implements SortArrayInterface {
        
        protected SortArrayServer() throws RemoteException {
            super();
        }
  
        @Override
        public int[] sortArray(int[] arr) throws RemoteException {
            java.util.Arrays.sort(arr);
            return arr;
        }
  
        public static void main(String[] args) {
            try {
                Registry registry = LocateRegistry.createRegistry(1099);
                SortArrayServer server = new SortArrayServer();
                registry.rebind("SortArrayService", server);
                System.out.println("Server is ready...");
            } catch (Exception e) {
                System.out.println("Server exception: " + e.getMessage());
                e.printStackTrace();
            }
        }
    }
    </pre>
  
    <pre>
    // SortArrayClient.java
    import java.rmi.registry.LocateRegistry;
    import java.rmi.registry.Registry;
    import java.util.Scanner;
  
    public class SortArrayClient {
  
        public static void main(String[] args) {
            try {
                Registry registry = LocateRegistry.getRegistry("localhost", 1099);
                SortArrayInterface stub = (SortArrayInterface) registry.lookup("SortArrayService");
  
                Scanner sc = new Scanner(System.in);
                System.out.print("Enter the number of elements in the array: ");
                int n = sc.nextInt();
                int[] arr = new int[n];
  
                System.out.println("Enter the elements of the array:");
                for (int i = 0; i < n; i++) {
                    arr[i] = sc.nextInt();
                }
  
                int[] sortedArr = stub.sortArray(arr);
  
                System.out.println("Sorted array:");
                for (int i = 0; i < sortedArr.length; i++) {
                    System.out.print(sortedArr[i] + " ");
                }
                System.out.println();
  
            } catch (Exception e) {
                System.out.println("Client exception: " + e.getMessage());
                e.printStackTrace();
            }
        }
    }
    </pre>
  
    <strong>Sample Output:</strong>
    <div class="output">
      Enter the number of elements in the array: 5<br>
      Enter the elements of the array:<br>
      10 4 7 2 8<br>
      Sorted array:<br>
      2 4 7 8 10
    </div>
  </div>
  
    
</body>
</html>
